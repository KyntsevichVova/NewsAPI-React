(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(21)},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=(n(19),n(1)),i=n(2),l=n(4),u=n(3),h=n(5),d=n(6),p=n(11),m=n(12),b=n(7),f=n.n(b),j=n(8),g="158b90ae4f0d4b918241c1c3e69335ed";function v(){this.loaded=[],this.pointer=0}v.prototype.loadSources=Object(j.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://newsapi.org/v2/sources?apiKey=".concat(g),n=new Request(t),e.abrupt("return",fetch(n).then(function(e){return e.json()}));case 3:case"end":return e.stop()}},e)})),v.prototype.loadRequest=Object(j.a)(f.a.mark(function e(){var t,n,a,r,c,o,s,i,l,u,h,d,b,j,v,y=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=y.length>0&&void 0!==y[0]?y[0]:{},n=y.length>1&&void 0!==y[1]?y[1]:new Set,this.pointer=0,a=t.endpoint||(n.size?"everything":"top-headlines"),t.endpoint=void 0,r="https://newsapi.org/v2/".concat(a,"?"),t.sources=Object(m.a)(n.values()).join(","),t.sources?t.country=void 0:t.country="us",t=Object.entries(t),c=!0,o=!1,s=void 0,e.prev=12,i=t[Symbol.iterator]();!(c=(l=i.next()).done);c=!0)u=l.value,h=Object(p.a)(u,2),d=h[0],(b=h[1])&&(r+="".concat(d,"=").concat(encodeURI(b),"&"));e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,s=e.t0;case 20:e.prev=20,e.prev=21,c||null==i.return||i.return();case 23:if(e.prev=23,!o){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return r+="pageSize=40&apiKey=".concat(g),j=new Request(r),e.next=32,fetch(j);case 32:return e.next=34,e.sent.json();case 34:(v=e.sent.articles)&&v.length?this.loaded=v:this.loaded=[];case 36:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),v.prototype.nextBatch=function(){var e=this.loaded.slice(this.pointer,this.pointer+5);return this.pointer+=e.length,e},v.prototype.hasMore=function(){return this.pointer<this.loaded.length};var y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyUp=n.handleKeyUp.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{type:"text",className:"inputField",onChange:this.props.handleInputChange,onKeyUp:this.handleKeyUp})}},{key:"handleKeyUp",value:function(e){e.preventDefault(),13===e.keyCode&&this.props.handleEnterPress()}}]),t}(r.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:this.props.buttonStyle,id:this.props.id,onClick:this.props.handleInputClick},this.props.children)}}]),t}(r.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"requestWrapper"},r.a.createElement("div",{className:"requestInput"},r.a.createElement(y,{handleInputChange:this.props.handleQueryChange,handleEnterPress:this.props.handleRequestExecution}),r.a.createElement(O,{handleInputClick:this.props.handleRequestExecution,buttonStyle:"inputButton"},"Search")))}}]),t}(r.a.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O,{buttonStyle:"sourceButton".concat(this.props.toggled?" activeFilter":""),id:this.props.id,handleInputClick:this.props.handleInputClick},this.props.name)}}]),t}(r.a.Component),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sourceFilterWrapper"},r.a.createElement("nav",{className:"sourceFilter"},this.props.sources.map(function(t){return r.a.createElement(E,{key:t.id,id:t.id,name:t.name,toggled:e.props.toggled.has(t.id),handleInputClick:e.handleClick})})))}},{key:"handleClick",value:function(e){e.target.classList.contains("sourceButton")&&(this.props.toggle(e.target.id),this.props.handleInputClick())}}]),t}(r.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.article,t=e.source.name;if(e.publishedAt){var n=new Date(e.publishedAt).toLocaleString("en-US",{hour12:!1,day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});t+=", ".concat(n)}return e.author&&(t+=", Author: ".concat(e.author)),r.a.createElement("div",{className:"contentElementWrapper"},r.a.createElement("div",{className:"contentElement"},r.a.createElement("div",{className:"contentElementImg",style:{backgroundImage:'url("'.concat(e.urlToImage,'")')}}),r.a.createElement("article",{className:"article"},r.a.createElement("a",{className:"articleLink",href:e.url},r.a.createElement("header",{className:"articleHeader"},r.a.createElement("h2",{className:"articleTitle"},e.title),r.a.createElement("span",{className:"articleInfo"},t)),r.a.createElement("section",{className:"articleBody"},e.description)))))}}]),t}(r.a.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"contentWrapper"},this.props.loaded.map(function(e,t){return r.a.createElement(w,{key:t,article:e})}))}}]),t}(r.a.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.visible?r.a.createElement("div",{className:"failMessageWrapper"},r.a.createElement("h1",{className:"failMessage"},this.props.message)):null}}]),t}(r.a.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.visible?r.a.createElement("div",{className:"moreButtonWrapper"},r.a.createElement(O,{handleInputClick:this.props.moreButtonClick,buttonStyle:"moreButton"},"Show more")):null}}]),t}(r.a.Component),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={sources:[],loaded:[],toggled:new Set,hasMore:!1,query:""},n.MAX_DISPLAYED=40,n.toggle=n.toggle.bind(Object(d.a)(n)),n.handleQueryChange=n.handleQueryChange.bind(Object(d.a)(n)),n.handleRequestExecution=n.handleRequestExecution.bind(Object(d.a)(n)),n.moreButtonClick=n.moreButtonClick.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.model=new v,this.model.loadSources().then(function(t){e.setState({sources:t.sources})}),this.model.loadRequest().then(function(){e.setState({loaded:e.model.nextBatch(),hasMore:e.model.hasMore()})})}},{key:"render",value:function(){return r.a.createElement("main",{className:"sticky"},r.a.createElement(k,{loadRequest:this.loadRequest,handleQueryChange:this.handleQueryChange,handleRequestExecution:this.handleRequestExecution}),r.a.createElement(C,{sources:this.state.sources,toggle:this.toggle,toggled:this.state.toggled,handleInputClick:this.handleRequestExecution}),r.a.createElement(N,{loaded:this.state.loaded}),r.a.createElement(q,{visible:!this.state.loaded.length,message:"There are no articles matching your request"}),r.a.createElement(S,{visible:this.state.hasMore&&this.state.loaded.length<this.MAX_DISPLAYED,moreButtonClick:this.moreButtonClick}))}},{key:"toggle",value:function(e){var t=this.state.toggled;t.has(e)?t.delete(e):t.add(e),this.setState({toggled:t})}},{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleRequestExecution",value:function(){var e=this;this.model.loadRequest({q:this.state.query},this.state.toggled).then(function(){e.setState({loaded:e.model.nextBatch(),hasMore:e.model.hasMore()})})}},{key:"moreButtonClick",value:function(){this.setState({loaded:this.state.loaded.concat(this.model.nextBatch()),hasMore:this.model.hasMore()})}}]),t}(r.a.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"sticky"},r.a.createElement("p",{className:"poweredBy"},"Powered by",r.a.createElement("a",{href:"https://newsapi.org"},"NewsAPI")))}}]),t}(r.a.Component),B=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sticky"},r.a.createElement(x,null),r.a.createElement(I,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.c591b845.chunk.js.map